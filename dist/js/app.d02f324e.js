(function(t){function e(e){for(var r,i,s=e[0],l=e[1],c=e[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function i(t){return s.p+"js/"+({menu:"menu"}[t]||t)+"."+{menu:"9ce00016"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(t);var c=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"208b":function(t,e,n){"use strict";var r=n("2b0e"),a=new r["default"];e["a"]=a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("LoginForm",{on:{"logged-in":t.showAlert}}),n("header",{staticClass:"header"},[n("Navigation",{on:{"logged-out":t.showLoggedOutAlert}})],1),n("b-container",{attrs:{fluid:""}},[n("b-alert",{staticClass:"mt-3",attrs:{show:t.dismissCountDown,dismissible:"",fade:"",variant:"success"}},[t._v("Success! You are sign in.")]),n("b-alert",{staticClass:"mt-3",attrs:{show:t.dismissCountDownLoggedOut,dismissible:"",fade:"",variant:"success"}},[t._v("Success! You are sign out.")]),n("router-view"),n("footer",{staticClass:"footer"},[n("Footer")],1)],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"nav"}},[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"secondary"}},[r("b-navbar-brand",{attrs:{href:"/"}},[r("b-img",{staticClass:"logo__img",attrs:{src:n("b954"),rounded:"",alt:"Pizza image"}})],1),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/"}},[t._v("Home")]),r("b-nav-item",{attrs:{to:"/menu"}},[t._v("Pizza Menu")]),t.checkUserSignIn?r("b-nav-item",{attrs:{to:"/allorders"}},[t._v("All Orders")]):t._e()],1),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-form",[r("b-form-input",{directives:[{name:"show",rawName:"v-show",value:t.showSearchBox,expression:"showSearchBox"}],staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Search by Menu Title"},on:{keyup:t.search},model:{value:t.searchMenuTitle,callback:function(e){t.searchMenuTitle=e},expression:"searchMenuTitle"}})],1),r("b-nav-item-dropdown",{attrs:{text:"Lang",right:""}},[r("b-dropdown-item",{attrs:{href:"#"}},[t._v("EN")]),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("ES")]),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("RU")]),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("FA")])],1),r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[t._v("User")])]},proxy:!0}])},[t.checkUserSignIn?r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.singOut()}}},[t._v("Sign Out")]):r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openLoginModal()}}},[t._v("Sign In")])],1)],1)],1)],1)],1)},s=[],l=n("5ce5"),c=n("208b"),u={name:"Navigation",data:function(){return{searchMenuTitle:""}},methods:{openLoginModal:function(){this.$bvModal.show("login-modal")},singOut:function(){var t=this;l["a"].logout().then((function(e){e.data.loggedout&&(t.$store.dispatch("userLoggedOut",!1),t.$emit("logged-out",!0))}))},search:function(){this.searchMenuTitle.length>=2?c["a"].$emit("search-menu",this.searchMenuTitle):c["a"].$emit("search-menu",!1)}},computed:{checkUserSignIn:function(){return this.$store.getters.loggedIn},showSearchBox:function(){return"/menu"===this.$route.path}}},d=u,f=n("2877"),m=Object(f["a"])(d,i,s,!1,null,null,null),p=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",[n("p",{staticClass:"copyright mt-4 mb-0 p-3 bg-secondary text-white"},[t._v("Yummi Pizza copyrightÂ© 2020")])])],1)},h=[],b={name:"Footer"},v=b,w=Object(f["a"])(v,g,h,!1,null,null,null),y=w.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{id:"login-modal",size:"lg",title:"Sign In Form"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){e.ok;return[n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.onSubmit()}}},[t._v("Sign In")])]}}])},[n("b-overlay",{attrs:{show:t.show,rounded:"sm",variant:t.variant,opacity:t.opacity,blur:t.blur}},[n("b-form",{staticClass:"needs-validation login-form",attrs:{novalidate:"",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",minlength:"5",description:"We'll never share your email with anyone else."}},[n("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("div",{staticClass:"valid-feedback"},[t._v("Looks good!")]),n("div",{staticClass:"invalid-feedback"},[t._v("Email is required and min length is 5 charachter")])],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"input-2",description:"Your password is scure with us."}},[n("b-form-input",{attrs:{id:"input-2",type:"password",required:"",minlength:"6",placeholder:"Enter Password",autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("div",{staticClass:"valid-feedback"},[t._v("Looks good!")]),n("div",{staticClass:"invalid-feedback"},[t._v("Password is required and min length is 6 charachter")])],1)],1),n("div",{staticClass:"d-none p-3 mb-2 bg-danger text-white loggin-error"}),n("hr",{staticClass:"my-4"}),n("b-jumbotron",{staticClass:"m-0 p-1 pl-2 pr-2",attrs:{"bg-variant":"info","text-variant":"white","border-variant":"dark"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Default Sign In Info")]},proxy:!0},{key:"lead",fn:function(){return[t._v("Email: admin@example.com"),n("br"),t._v("Password: pass1234")]},proxy:!0}])},[n("hr",{staticClass:"my-4"}),n("p",[t._v("Access to All Orders page. Have a nice day.")])])],1)],1)},O=[],k=(n("4de4"),{name:"LoginForm",data:function(){return{show:!1,variant:"white",opacity:.55,blur:"2px",form:{email:"",password:""}}},methods:{onSubmit:function(){var t=this,e=document.querySelector(".login-form"),n=0;Array.prototype.filter.call(e,(function(t){if(!t.checkValidity())return t.classList.add("not-valid"),!1;t.classList.add("was-validated"),n++})),2==n&&(this.show=!0,l["a"].login(JSON.stringify(this.form)).then((function(e){var n=document.querySelector(".loggin-error");if(!e.data.logged)return n.innerText="ERROR! Please check your loggin data and try again.",n.classList.add("d-block"),void(t.show=!1);n.classList.remove("d-block"),t.$store.dispatch("userLoggedIn",!0),t.show=!1,t.$emit("logged-in",!0),t.$bvModal.hide("login-modal")})))}}}),x=k,C=Object(f["a"])(x,_,O,!1,null,null,null),S=C.exports,P={name:"Home",components:{Navigation:p,Footer:y,LoginForm:S},data:function(){return{dismissSecs:10,dismissCountDown:0,dismissSecsLoggedOut:10,dismissCountDownLoggedOut:0,currentyRatesUrl:"https://api.exchangeratesapi.io/latest"}},methods:{showAlert:function(){this.dismissCountDown=this.dismissSecs},showLoggedOutAlert:function(){this.dismissCountDownLoggedOut=this.dismissSecsLoggedOut},exchangeRates:function(){var t=this;l["a"].getExchangeRates(this.currentyRatesUrl).then((function(e){t.$store.dispatch("currentRateExcange",e.rates.USD)}))}},mounted:function(){this.exchangeRates()}},L=P,A=(n("cf25"),Object(f["a"])(L,a,o,!1,null,null,null)),E=A.exports,j=n("5f5b"),z=(n("d3b7"),n("8c4f")),D=n("2f62");r["default"].use(D["a"]);var T=new D["a"].Store({state:{loggedIn:!1,currentRate:1.65},mutations:{setLogginStatus:function(t,e){t.loggedIn=e},setCurrentRate:function(t,e){t.currentRate=e}},actions:{userLoggedIn:function(t,e){var n=t.commit;n("setLogginStatus",e)},userLoggedOut:function(t,e){var n=t.commit;n("setLogginStatus",e)},currentRateExcange:function(t,e){var n=t.commit;n("setCurrentRate",e)}},getters:{loggedIn:function(t){return t.loggedIn},getCurrentRate:function(t){return t.currentRate}},modules:{}}),M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",[r("b-jumbotron",{staticClass:"mt-3 mb-3 p-3",attrs:{header:"The Yummi Pizza",lead:"Best Pizza and quickest delivery in town!"}}),r("b-img",{staticClass:"mb-3",attrs:{src:n("61f5"),"fluid-grow":"",rounded:"",alt:"Pizza image"}})],1)],1)},$=[],R={name:"Home",components:{}},I=R,q=Object(f["a"])(I,M,$,!1,null,null,null),U=q.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",[n("b-card",{staticClass:"mb-2 mt-3",staticStyle:{"max-width":"unset"},attrs:{title:"All Orderse",tag:"article"}},[n("b-card-text",[n("b-overlay",{attrs:{show:t.show,rounded:"sm",variant:t.variant,opacity:t.opacity,blur:t.blur}},[n("b-table",{attrs:{striped:"",hover:"",items:t.allOrders,fields:t.fields}}),n("div",{staticClass:"dropdown-divider mt-2 mb-2"}),n("div",{staticClass:"text-right font-weight-bold text-capitalize"},[t._v("Total profit: "),n("div",{staticClass:"badge badge-primary p-2 total-profit"},[t._v(t._s(t.totalProfit)+" â¬")])])],1)],1)],1)],1)],1)},N=[],H=(n("99af"),n("4160"),n("a15b"),n("159b"),{name:"AllOrders",data:function(){return{fields:[{key:"client_name",label:"Name"},{key:"client_address",label:"Address"},{key:"client_city",label:"City"},{key:"item",label:"Order"},{key:"created_at",label:"Date"},{key:"item_quantity",label:"Amounts"},{key:"item_delivery_price",label:"Delivery Price"},{key:"item_total_price",label:"Order Price",variant:"success"}],show:!1,variant:"white",opacity:.55,blur:"2px",allOrders:[],totalProfit:null}},methods:{getAllOrders:function(){var t=this;this.show=!0,l["a"].getAllOrders().then((function(e){e.data.data.forEach((function(n,r){e.data.data[r].item=n.item.join(", "),e.data.data[r].created_at=t.formatDateOfOrder(n.created_at),t.totalProfit+=n.item_total_price})),t.allOrders=e.data.data,t.show=!1}))},formatDateOfOrder:function(t){var e=new Date(t);return"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())}},mounted:function(){this.getAllOrders()}}),Y=H,B=Object(f["a"])(Y,F,N,!1,null,null,null),J=B.exports;r["default"].use(z["a"]);var W=[{path:"/",name:"Home",component:U},{path:"/menu",name:"Menu",component:function(){return n.e("menu").then(n.bind(null,"9a0b"))}},{path:"/allorders",name:J,component:J,beforeEnter:function(t,e,n){T.getters.loggedIn?n():n(!1)}}],G=new z["a"]({mode:"history",base:"/",routes:W}),V=G;r["default"].config.productionTip=!1,r["default"].use(j["a"]),new r["default"]({router:V,store:T,render:function(t){return t(E)}}).$mount("#app")},"5ce5":function(t,e,n){"use strict";n("d3b7");var r=n("bc3a"),a=n.n(r),o="http://127.0.0.1:8000",i=function(t,e){return a.a.post(t,e,{crossDomain:!0,headers:{"Access-Control-Allow-Origin":"http://localhost:8080","Content-Type":"application/json",data:{}}})},s=function(t){return a.a.get(t,{crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json",signature:"asd","Access-Control-Allow-Headers":"X-Requested-With","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE",data:{}}})};e["a"]={baseUrl:o,login:function(t){return i("".concat(o,"/api/login"),t)},logout:function(){return i("".concat(o,"/api/logout"))},getAllPizzaItems:function(){return s("".concat(o,"/api/v1/blocks}"))},postPizzaOrderData:function(t){return i("".concat(o,"/api/orders"),t)},getSinglePizza:function(t){return s("".concat(o,"/api/v1/blocks/").concat(t))},getMenuItems:function(){return s("".concat(o,"/api/menus"))},getAllOrders:function(){return s("".concat(o,"/api/orders"))},getExchangeRates:function(t){return fetch(t).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return console.log(t)}))}}},"61f5":function(t,e,n){t.exports=n.p+"img/pizza.d92ebd14.jpg"},b954:function(t,e,n){t.exports=n.p+"img/pizza-logo.5eb7f924.jpg"},cf25:function(t,e,n){"use strict";var r=n("fea6"),a=n.n(r);a.a},fea6:function(t,e,n){}});
//# sourceMappingURL=app.d02f324e.js.map